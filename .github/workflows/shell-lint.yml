name: Shell-Lint
on:
  pull_request:
    branches:
      - main
jobs:
  shellcheck:
    name: Run Shelcheck
    runs-on: ubuntu-latest
    steps:
    - name: Checkout repository
      uses: actions/checkout@v4
    - name: Install Shellcheck
      run: |
        scversion="v0.10.0"
        wget -qO- "https://github.com/koalaman/shellcheck/releases/download/${scversion?}/shellcheck-${scversion?}.linux.x86_64.tar.xz" | tar -xJv
        cp "shellcheck-${scversion}/shellcheck" /usr/bin/
        shellcheck --version
    - name: Run SHellcheck
      run: find scripts -name "*.sh" -print0 | xargs -0 shellcheck --shell=bash